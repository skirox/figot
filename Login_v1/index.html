<!DOCTYPE html>
<html>

<head>
    <title> Un site Web statique </title>

    <!-inclure le widget->
    <script type=" text / javascript " src=" https://identity.netlify.com/v1/netlify-identity-widget.js "> </script>
</head>
<corps>
    <! - Ajouter un menu:
    Connexion / Inscription - lorsque l'utilisateur n'est pas connecté
    Nom d'utilisateur / Déconnexion - lorsque l'utilisateur est connecté
    ->
    <div data-netlify-identity-menu> </div>

    <! - Ajouter un bouton plus simple:
    bouton simple qui ouvrira le modal.
    ->
    <div data-netlify-identity-button> Connexion avec Netlify Identity </div>
    </body>
</html>
// Ouvrez le
netlifyIdentity modal . open ( ) ;

// Récupère l'utilisateur actuel:
const  user  =  netlifyIdentity . currentUser ( ) ;

// Lier aux événements
netlifyIdentity . on ( 'init' ,  utilisateur  =>  console . log ( 'init' ,  utilisateur ) ) ;
netlifyIdentity . on ( 'login' ,  user  =>  console . log ( 'login' ,  user ) ) ;
netlifyIdentity . on ( 'logout' ,  ( )  =>  console . log ( 'Déconnecté') ) ;
netlifyIdentity . on ( 'error' ,  err  =>  console . error ( 'Error' ,  err ) ) ;
netlifyIdentity . on ( 'open' ,  ( )  =>  console . log ( 'Widget ouvert' ) ) ;
netlifyIdentity . on ( 'close' ,  ( )  =>  console . log ( 'Widget fermé') ) ;

// Dissociation des événements
netlifyIdentity . off ( 'connexion' ) ;  // pour dissocier tous les gestionnaires enregistrés
netlifyIdentity . off ( 'login' ,  gestionnaire ) ;  // pour dissocier un seul gestionnaire

// Ferme le
netlifyIdentity modal . fermer ( ) ;

//
Déconnecte l'utilisateur netlifyIdentity . déconnexion ( ) ;
// actualise le JWT de l'utilisateur
// Remarque: cette méthode renvoie une promesse.
netlifyIdentity . rafraîchir ( ) . alors ( ( jwt ) => console . log ( jwt ) )

// Changer de langue
netlifyIdentity . setLocale ( 'en' ) ;